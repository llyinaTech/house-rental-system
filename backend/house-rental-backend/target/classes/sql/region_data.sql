-- 1. 清空现有区域数据
TRUNCATE TABLE sys_region;

-- 2. 插入省级数据 (Level 1)
INSERT INTO sys_region (id, parent_id, name, level_type, sort_order) VALUES 
(110000, 0, '北京市', 1, 1),
(120000, 0, '天津市', 1, 2),
(310000, 0, '上海市', 1, 3),
(440000, 0, '广东省', 1, 4),
(330000, 0, '浙江省', 1, 5);

-- 3. 插入市级数据 (Level 2)
INSERT INTO sys_region (id, parent_id, name, level_type, sort_order) VALUES 
-- 北京市下辖
(110100, 110000, '北京市', 2, 1),
-- 天津市下辖
(120100, 120000, '天津市', 2, 1),
-- 上海市下辖
(310100, 310000, '上海市', 2, 1),
-- 广东省下辖
(440100, 440000, '广州市', 2, 1),
(440300, 440000, '深圳市', 2, 2),
-- 浙江省下辖
(330100, 330000, '杭州市', 2, 1);

-- 4. 插入区县级数据 (Level 3)
INSERT INTO sys_region (id, parent_id, name, level_type, sort_order) VALUES 
-- 北京市(110100)下辖
(110101, 110100, '东城区', 3, 1),
(110102, 110100, '西城区', 3, 2),
(110105, 110100, '朝阳区', 3, 3),
(110106, 110100, '丰台区', 3, 4),
(110108, 110100, '海淀区', 3, 5),
(110111, 110100, '房山区', 3, 6),
(110112, 110100, '通州区', 3, 7),
(110113, 110100, '顺义区', 3, 8),
(110114, 110100, '昌平区', 3, 9),
(110115, 110100, '大兴区', 3, 10),

-- 上海市(310100)下辖
(310101, 310100, '黄浦区', 3, 1),
(310104, 310100, '徐汇区', 3, 2),
(310105, 310100, '长宁区', 3, 3),
(310106, 310100, '静安区', 3, 4),
(310107, 310100, '普陀区', 3, 5),
(310115, 310100, '浦东新区', 3, 6),

-- 广州市(440100)下辖
(440103, 440100, '荔湾区', 3, 1),
(440104, 440100, '越秀区', 3, 2),
(440105, 440100, '海珠区', 3, 3),
(440106, 440100, '天河区', 3, 4),
(440111, 440100, '白云区', 3, 5),

-- 深圳市(440300)下辖
(440303, 440300, '罗湖区', 3, 1),
(440304, 440300, '福田区', 3, 2),
(440305, 440300, '南山区', 3, 3),
(440306, 440300, '宝安区', 3, 4),
(440307, 440300, '龙岗区', 3, 5),

-- 杭州市(330100)下辖
(330102, 330100, '上城区', 3, 1),
(330105, 330100, '拱墅区', 3, 2),
(330106, 330100, '西湖区', 3, 3),
(330108, 330100, '滨江区', 3, 4),
(330109, 330100, '萧山区', 3, 5),
(330110, 330100, '余杭区', 3, 6);

-- 5. 修复现有房源数据的关联 (示例修复)
-- 将原来关联到旧ID的房源，尝试迁移到新ID (如果有对应关系的话)
-- 由于ID完全变化，这里建议手动更新房源，或者重置所有房源为"未分配区域"
UPDATE house SET region_id = NULL;
